<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	</head>
	<body>
		<h1 id="Speed">Speed</h1>
		<p>Speed is defined for operations where images are moved across the page.</p>
		<p>If an element is defined with a 
			<em>distance</em> parameter, as well as 
			<em>speed</em>, the
			<br/>rate at which the element will move across the screen is scaled by the 
			<br/>
			<em>distance</em> value.
		</p>
		<p>There are two ways to specify 
			<em>speed</em>.
		</p>
		<h2 id="Speedasanarray">Speed as an array</h2>
		<p>Speed may be specified as a two value array, the first item being speed in the
			<br/>
			<em>x</em> direction and the second the 
			<em>y</em> direction. The units are pixels per screen 
			<br/>refresh, so a value of 1 makes things move pretty fast.
		</p>
		<pre><code>// configuration.js
configuration["item1"] = { ...
    operations:{
        move: {
            speed: [.3, 0], ...
            }
        }
    }
    
</code></pre>
		<p>If a number of elements are moving at the same logical speed, the speed may be 
			<br/>specified in a variable.
		</p>
		<pre><code>// configuration.js
var drift = [.3, 0] ...
configuration["item1"] = { ...
    operations:{
        move: {
            speed: drift, ...
            }
        }
    }
configuration["item2"] = { ...
    operations:{
        move: {
            speed: drift, ...
            }
        }
    }
</code></pre>
		<p>This ensures multiple elements are moving at the same rate.</p>
		<h2 id="Speedasafunction">Speed as a function</h2>
		<p>Speed may need to be defined as a calculated value. This can be accomplished 
			<br/>be defining a speed function. The function may be defined inline or at another 
			<br/>location 
		</p>
		<pre><code>// configuration.js
...
configuration ["element"] = {
    distance : 2,
    duration : [ 0, "*" ],
    interval : 10,
    operation : {
        "move" : {
            speed : {
                start: [.3, .2],
                speed : deltaV
            },
            position : [ "20%", "60%" ],
            cycle : true
        },
    },
// calc.js
...
function deltaV(rt_element, rt_operation) {
    var operation = rt_operation.configuration
    var dx = rt_operation.state.dx || rt_operation.configuration.speed.start[0]
    var dy = rt_operation.state.dy || rt_operation.configuration.speed.start[1]
    ...
    rt_operation.state.dx = dx
    rt_operation.state.dy = dy
    return [ dx, dy ]
}
</code></pre>
		<p>The function is defined in the 
			<br/>operation as rt_operation.speed.speed. Parameters are the runtime element and the runtime operation. 
			<br/>The function returns a two dimensional array. 
		</p>
		<p>Initial values and constants may also be defined within rt_operation.speed.</p>
	</body>
</html>